---
name: Globe Instance
menu: Usage
route: /usage/globe-instance
---

import { Playground } from 'docz';
import { useState, useEffect } from 'react';

import markers from './markers';
import ReactGlobe, { Globe } from './react-globe';

# `Globe` Instance

`react-globe` provides ways to interact with the underlying `Globe` class instance through the `onGetGlobeInstance` prop or the `Globe` class.

## `onGetGlobeInstance` Prop

The following interactive example demonstrates capturing the `Globe` instance using the `onGetGlobeInstance` prop. Once the `Globe` instance is captured, you can hook it up to your application lifecycle. Useful methods include `freeze` and `unfreeze`, and you have access to many other class methods and variables.

The example also demonstrates that configuring `Globe` instance works interchangeably well with component props. In most cases, the component props implicitly call the `Globe` instance methods, therefore updating props should behave the same as calling the instance methods explicitly

<Playground>
  {() => {
    const [globe, setGlobe] = useState();
    const [isFrozen, setIsFrozen] = useState(false);
    const [focus, setFocus] = useState();
    const [lightOptions, setLightOptions] = useState({});
    return (
      <div>
        <p>
          <b>Edit Globe Instance</b>
          <br />
          <button
            disabled={isFrozen}
            onClick={() => {
              globe.freeze();
              setIsFrozen(true);
            }}
          >
            Freeze
          </button>
          <button
            disabled={!isFrozen}
            onClick={() => {
              globe.unfreeze();
              setIsFrozen(false);
            }}
          >
            Unfreeze
          </button>
          <br />
          <button onClick={() => globe.updateFocus([1.3521, 103.8198])}>
            Change Focus
          </button>
          <button onClick={() => globe.updateFocus(undefined)}>
            Unfocus
          </button>
          <button
            onClick={() =>
              globe.updateLights({ ambientLightColor: 'red' })
            }
          >
            Change lights
          </button>
          <br />
        </p>
        <p>
          <b>Edit Globe Props</b>
          <br />
          <button onClick={() => setFocus([37.773972, -122.431297])}>
            Change Focus
          </button>
          <button onClick={() => setFocus(undefined)}>Defocus</button>
          <button
            onClick={() => setLightOptions({ ambientLightColor: 'blue' })}
          >
            Change lights
          </button>
        </p>
        <ReactGlobe
          focus={focus}
          lightOptions={lightOptions}
          markers={markers}
          onGetGlobeInstance={setGlobe}
        />
      </div>
    );
  }}
</Playground>

## `Globe` Class

You can also directly work with the `Globe` class by using the provided named export:

```js
import { Globe } from 'react-globe';
```

The `Globe` class allows you to create globe visualizations with vanilla Javascript without the need for React. In the following example, we demonstrate how we can create the globe with basic Javascript when given a mounting ref.

> Note that while the `Globe` instance gives you full control on using the class in any code, we recommend that you still use the component to manage globe functionalities. There is a lot of work required to hook everything up together, and that's the whole point of what `react-globe` is trying to accomplish for you!

<Playground>
  {() => {
    useEffect(() => {
      // create initial DOM hierarchy
      const mountElement = document.getElementById('react-globe-instance');
      const tooltipElement = document.createElement('div');
      const canvasElement = document.createElement('canvas');
      mountElement.appendChild(canvasElement);
      mountElement.appendChild(tooltipElement);
      // create and initialize globe instance
      const globe = new Globe({ canvasElement, tooltipElement });
      // call any update method
      globe.resize({ height: 500, width: 800 });
      globe.updateOptions({
        ambientLightColor: 'red',
        cameraAutoRotateSpeed: 3,
        globeGlowColor: 'blue',
        markerTooltipRenderer: marker => `${marker.city} (${marker.value})`,
        pointLightColor: 'gold',
      });
      globe.updateMarkers(markers);
      globe.animate();
    }, []);
    return <div id='react-globe-instance' />;
  }}
</Playground>
